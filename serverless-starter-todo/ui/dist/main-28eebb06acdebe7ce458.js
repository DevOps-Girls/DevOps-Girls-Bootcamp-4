(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[0],{0:function(e,t,o){e.exports=o("Rjbf")},JNVZ:function(e,t,o){e.exports={deleteIconWrapper:"_2KnPgoz"}},KKPD:function(e,t,o){e.exports={header:"_3t_SVnO",titleText:"_2Ko4-e-",titleWrapper:"_1mImg_z"}},ftlp:function(e,t,o){"use strict";var n=o("gcR/"),a=o.n(n),r=o("q1tI"),i=o.n(r),d=o("i8i4"),s=o("RIqP"),l=o.n(s),c=o("MVZn"),u=o.n(c),h=o("lwsE"),v=o.n(h),p=o("W8MJ"),k=o.n(p),f=o("a1gu"),m=o.n(f),S=o("Nsbk"),g=o.n(S),b=o("7W2i"),C=o.n(b),N=o("PJYZ"),T=o.n(N),w=o("x+pq"),y=o("Twkm"),U=o("kId9"),_=o("h9cs"),E=o("83IR"),A=o("qdd4"),D=o("Xau+"),I=o("A9Zd"),x=o("njNF"),M=o("vDqi"),F=o.n(M),L=o("xk4V"),q=o.n(L),P=o("drc0"),B=o("plg4"),K=o("EYPZ"),V=o("lSNA"),z=o.n(V),W=o("QILm"),O=o.n(W),j=(o("17x9"),o("z12V")),J=o.n(j),R=o("uz2H"),Z=o("TSYQ"),H=o.n(Z);var Y=function(e){function t(){return v()(this,t),m()(this,g()(t).apply(this,arguments))}return C()(t,e),k()(t,[{key:"renderStandard",value:function(e){return a()("div",{className:J.a.standard},void 0,a()("div",{className:J.a.checkbox},void 0,a()(R.a,{className:J.a.checkMark,svgClassName:H()(J.a.checkMarkSvg,J.a.checkMarkSvg_isHover)}),a()(R.a,{svgClassName:H()(J.a.checkMarkSvg,J.a.checkMarkSvg_isSelected),className:J.a.checkMark})),a()("span",{},void 0,e))}},{key:"renderLabel",value:function(){var e=this.props,t=e.id,o=e.label;return a()("label",{htmlFor:t,className:J.a.label},void 0,this.renderStandard(o))}},{key:"renderInput",value:function(){var e=this.props,t=e.id,o=e.value,n=e.checked,a=e.onChange,r=e.onFocus,d=e.onBlur,s=e.inputProps,l=u()({id:t,value:o,checked:n,onChange:a,onFocus:r,onBlur:d},function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,o=O()(e,["className"]),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return u()({className:H.a.apply(null,[].concat(a,[t]))},o)}(s,J.a.input),{type:"checkbox"});return i.a.createElement("input",l)}},{key:"render",value:function(){var e,t=this.props.className,o=H()((e={},z()(e,J.a.root,!0),z()(e,t,t),e));return a()("div",{className:o},void 0,this.renderInput(),this.renderLabel())}}]),t}(r.Component);z()(Y,"displayName","Checkbox"),z()(Y,"defaultProps",{className:"",checked:!1,inputProps:{}});var Q=o("JNVZ"),X=o.n(Q),G=function(e){function t(){var e;return v()(this,t),(e=m()(this,g()(t).call(this))).renderDelete=e.renderDelete.bind(T()(T()(e))),e}return C()(t,e),k()(t,[{key:"renderDelete",value:function(){return a()("div",{className:X.a.deleteIconWrapper},void 0,a()(B.a,{color:"transparent",type:"submit"},void 0,a()(D.a,{todoid:this.props.todo.id},void 0,"Delete")))}},{key:"render",value:function(){var e=this.props,t=e.todo,o=e.onChange,n=e.onDelete;return a()(_.a,{},void 0,a()(E.a,{},void 0,a()("form",{onSubmit:n},void 0,a()(K.a,{renderAside:this.renderDelete},void 0,a()(Y,{checked:t.completed,id:"todo-".concat(t.id,"-checkbox"),label:t.title,onChange:o,value:t.id.toString()})))))}}]),t}(r.Component),$=function(e){var t=e.todos,o=e.onChange,n=e.onDelete;return a()(P.a,{},void 0,t.map(function(e,t){return a()(G,{todo:e,onChange:o,onDelete:n},t)}))},ee=o("EpYu"),te=o("KKPD"),oe=o.n(te),ne=a()(U.a,{},void 0,a()(E.a,{},void 0,a()(K.a,{renderAside:function(){return a()("div",{className:oe.a.titleWrapper},void 0,a()(D.a,{headline:!0,baseline:!1,raw:!0,className:oe.a.titleText},void 0,"Todo List"))}},void 0,a()(ee.a,{invert:!0})))),ae=function(){return a()("div",{className:oe.a.header},void 0,ne)},re=o("wJfx"),ie=o.n(re),de=a()(B.a,{type:"submit",color:"pink"},void 0,"Add"),se=function(e){function t(){var e;return v()(this,t),(e=m()(this,g()(t).call(this))).state={newTodoTitle:""},e.onChange=e.onChange.bind(T()(T()(e))),e.onSubmit=e.onSubmit.bind(T()(T()(e))),e}return C()(t,e),k()(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.addNewTodo(this.state.newTodoTitle),this.setState({newTodoTitle:""})}},{key:"renderButton",value:function(){return a()("div",{className:ie.a.addNewButton},void 0,de)}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({newTodoTitle:t})}},{key:"render",value:function(){return a()(_.a,{},void 0,a()(E.a,{},void 0,a()("form",{onSubmit:this.onSubmit},void 0,a()(K.a,{renderAside:this.renderButton},void 0,a()(x.a,{id:"newTodoField",label:"New Todo",value:this.state.newTodoTitle,onChange:this.onChange})))))}}]),t}(r.Component),le="https://p7rjsnk2c3.execute-api.ap-southeast-2.amazonaws.com/dev",ce=a()(ae,{}),ue=a()(y.a,{}),he=function(e){function t(){var e;return v()(this,t),(e=m()(this,g()(t).call(this))).state={todos:[],error:"",apiUrl:le,showSetApiForm:!1},e.getTodos=e.getTodos.bind(T()(T()(e))),e.onCheckboxClick=e.onCheckboxClick.bind(T()(T()(e))),e.addNewTodo=e.addNewTodo.bind(T()(T()(e))),e.onDelete=e.onDelete.bind(T()(T()(e))),e.clearError=e.clearError.bind(T()(T()(e))),e.onSetApiClick=e.onSetApiClick.bind(T()(T()(e))),e.handleApiUrlChange=e.handleApiUrlChange.bind(T()(T()(e))),e.checkForSavedUrl=e.checkForSavedUrl.bind(T()(T()(e))),e.clearErrorIfEquals=e.clearErrorIfEquals.bind(T()(T()(e))),e}return C()(t,e),k()(t,[{key:"componentDidMount",value:function(){this.checkForSavedUrl()}},{key:"clearErrorIfEquals",value:function(e){this.state.error===e&&this.clearError()}},{key:"checkForSavedUrl",value:function(){var e=localStorage.getItem("apiUrl");e?this.setState({apiUrl:e},this.getTodos):this.getTodos()}},{key:"onCheckboxClick",value:function(e){var t=this,o=e.target.value,n=this.state,a=n.todos,r=n.apiUrl||le,i=a.findIndex(function(e){return e.id.toString()===o}),d=a[i],s=u()({},d,{completed:!d.completed}),c=[].concat(l()(a.slice(0,i)),[s],l()(a.slice(i+1)));this.setState({todos:c});F.a.put("".concat(r,"/todo/").concat(s.id),s).then(function(){return t.clearErrorIfEquals("Unable to update todo status")}).catch(function(){return t.setState({error:"Unable to update todo status",todos:a})})}},{key:"deleteTodo",value:function(e){var t=this,o=this.state,n=o.todos,a=o.apiUrl||le,r=n.findIndex(function(t){return t.id.toString()===e}),i=[].concat(l()(n.slice(0,r)),l()(n.slice(r+1)));this.setState({todos:i});F.a.delete("".concat(a,"/todo/").concat(e)).then(function(){return t.clearErrorIfEquals("Unable to delete todo")}).catch(function(){return t.setState({error:"Unable to delete todo",todos:n})})}},{key:"onDelete",value:function(e){e.preventDefault();var t=e.target[0].value;this.deleteTodo(t)}},{key:"addNewTodo",value:function(e){var t=this,o=this.state,n=o.todos,a=o.apiUrl||le,r={id:q()(),completed:!1,title:e},i=[r].concat(l()(n));this.setState({todos:i}),F.a.post("".concat(a,"/todos"),r).then(function(){return t.clearErrorIfEquals("Unable to save todo")}).catch(function(){t.deleteTodo(r.id),t.setState({error:"Unable to save todo"})})}},{key:"clearError",value:function(){this.setState({error:""})}},{key:"onSetApiClick",value:function(){this.setState(function(e){return{showSetApiForm:!e.showSetApiForm}})}},{key:"handleApiUrlChange",value:function(e){var t=this;this.setState({apiUrl:e.target.value},function(){localStorage.setItem("apiUrl",t.state.apiUrl),t.getTodos()})}},{key:"getTodos",value:function(){var e=this,t=this.state.apiUrl||le;F.a.get("".concat(t,"/todos"),{params:{_limit:10}}).then(function(t){var o=t.data;e.clearErrorIfEquals("Unable to retrieve todos"),e.setState({todos:o})}).catch(function(){e.setState({error:"Unable to retrieve todos",todos:[]})})}},{key:"render",value:function(){var e=this.state,t=e.todos,o=e.error,n=e.showSetApiForm,r=e.apiUrl;return a()(w.a,{},void 0,ce,a()(U.a,{},void 0,a()(_.a,{},void 0,a()(E.a,{},void 0,a()(D.a,{},void 0,a()(I.a,{chevron:n?"up":"down",onClick:this.onSetApiClick},void 0,"Set API URL")),n&&a()(x.a,{id:"apiUrl",value:r,onChange:this.handleApiUrlChange}))),a()(se,{addNewTodo:this.addNewTodo}),o&&a()(_.a,{},void 0,a()(A.a,{tone:"info",level:"secondary",message:o,onClose:this.clearError})),a()($,{todos:t,onChange:this.onCheckboxClick,onDelete:this.onDelete})),ue)}}]),t}(r.Component),ve=a()(he,{});t.a=function(){Object(d.hydrate)(ve,document.getElementById("app"))}},wJfx:function(e,t,o){e.exports={addNewButton:"_3DIsplz"}},z12V:function(e,t,o){e.exports={root:"rl5Xf3F",input:"_1W_iQpM",label:"kKq-jg1",standard:"L7GLY7W",checkbox:"_1tAliDO",checkMark:"VpcwPsR",checkMarkSvg:"_1B3Tkvp",checkMarkSvg_isSelected:"_3uiljLz",checkMarkSvg_isHover:"_12MIVv6"}}},[[0,1,2]]]);